{% extends 'base.html.twig' %}

{% block title %}Nos Burgers - CRUDcroustillant{% endblock %}

{% block body %}
<main class="page-container content">
    <h2 class="text-center my-4">Liste des Burgers</h2>

    <!-- Formulaire de recherche -->
    <div class="search-container text-center mb-4">
        <form action="{{ path('burgers_by_ingredient', {'ingredient': ''}) }}" method="get" style="display:inline-block;">
            <input type="text" name="ingredient" placeholder="Chercher un ingr√©dient"
                   required style="padding:0.5rem; border-radius:5px; border:1px solid #ccc;">
            <button type="submit" class="btn btn-primary">üîç Rechercher</button>
        </form>
    </div>

    <!-- Bouton cr√©ation -->
    <div class="btn-container text-center mb-4">
        <a href="{{ path('burger_create') }}" class="btn btn-primary"
           onclick="return confirm('Voulez-vous vraiment cr√©er un burger ?');">
            ‚ûï Cr√©er
        </a>
    </div>

    {% if burgers|length > 0 %}
        <div class="burger-cards">
            {% for burger in burgers %}
                <div class="burger-card">
                    <a href="{{ path('burger_show', {id: burger.id}) }}">
                        {% if burger.image %}
                            <img src="{{ asset(burger.image.name) }}" alt="{{ burger.name }}">
                        {% else %}
                            <div class="burger-placeholder">Pas d'image</div>
                        {% endif %}
                        <div class="burger-info">
                            <h3>{{ burger.name }}</h3>
                            <p>{{ burger.price }} ‚Ç¨</p>
                        </div>
                    </a>
                    <div class="burger-actions">
                        <a href="{{ path('burger_edit', {id: burger.id}) }}" class="btn btn-secondary"
                           onclick="return confirm('Voulez-vous vraiment modifier ce burger ?');">
                            ‚úèÔ∏è Modifier
                        </a>
                        <a href="{{ path('burger_delete', {id: burger.id}) }}" class="btn btn-danger"
                           onclick="return confirm('Voulez-vous vraiment supprimer ce burger ?');">
                            üóë Supprimer
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-center">Aucun burger trouv√©.</p>
    {% endif %}
</main>
{% endblock %}
