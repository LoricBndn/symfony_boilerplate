{% extends 'base.html.twig' %}

{% block title %}
    {% if burger %}
        Burger {{ burger.name }}
    {% else %}
        Burger introuvable
    {% endif %}
{% endblock %}

{% block body %}
<main class="burger-detail">
    {% if burger %}
        <h2>{{ burger.name }}</h2>

        {% if burger.image %}
            <img src="{{ asset(burger.image.name) }}" alt="{{ burger.name }}" class="burger-image" style="max-width:300px;">
        {% endif %}

        <p><strong>Ingrédients :</strong>
            {% set ingredients = [] %}

            {# Viandes #}
            {% for viande in burger.viandes %}
                {% set ingredients = ingredients|merge([viande.name]) %}
            {% endfor %}

            {# Garnitures #}
            {% for garniture in burger.garnitures %}
                {% set ingredients = ingredients|merge([garniture.name]) %}
            {% endfor %}

            {# Sauces #}
            {% for sauce in burger.sauces %}
                {% set ingredients = ingredients|merge([sauce.name]) %}
            {% endfor %}

            {{ ingredients|join(', ') }}
        </p>

        <p><strong>Prix :</strong> {{ burger.price }} €</p>
        <a href="{{ path('burgers_list') }}">← Retour à la liste</a>

    {% else %}
        <h2>Oups ! Burger introuvable</h2>
        <p>Le burger avec l’ID {{ id }} n’existe pas.</p>
        <a href="{{ path('burgers_list') }}">← Retour à la liste des burgers</a>
    {% endif %}
</main>
{% endblock %}
